(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(58)},31:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),i=(a(31),a(61)),s=a(60),o=a(22),m=a(7),d=a(8),u=a(12),h=a(9),E=a(13),f=a(6),v=a.n(f),p={searchArticles:function(e,t,a){var n="https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=b9f91d369ff59547cd47b931d8cbc56b:0:74623931&q="+e+"&begin_date="+t+"0101&end_date="+a+"0101";return v.a.get(n)},getArticles:function(){return v.a.get("/api/articles")},saveArticle:function(e){return v.a.post("/api/articles",e)},deleteArticle:function(e){return v.a.delete("/api/articles/".concat(e))}},b=a(10),g=a.n(b),N=function(e){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",null,r.a.createElement("h4",{className:"text-info"},e.title)),r.a.createElement("p",{className:"font-italic text-center"},e.snippet),r.a.createElement("p",{className:"text-center"},"Date Published: ",g()(e.date).format("M/DD/YYYY")),r.a.createElement("span",null,r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"btn btn-grey mr-1"},"View Article")),r.a.createElement("button",{className:"btn btn-info ml-1",onClick:function(){return e.handleSaveButton(e._id)}},"Save Article")),r.a.createElement("hr",null))},S=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-white bg-dark grey"},r.a.createElement("h3",{className:"searched card-title text-center mt-2"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})," Search"))),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"topic"},r.a.createElement("h4",{className:"text-info"},"Topic")),r.a.createElement("input",{onChange:e.handleTopicChange,type:"text",className:"form-control text-center",id:"topic","aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"start-year"},r.a.createElement("h4",{className:"text-info"},"Start Year")),r.a.createElement("input",{onChange:e.handleStartYear,type:"text",className:"form-control text-center",id:"start-year"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"end-year"},r.a.createElement("h4",{className:"text-info"},"End Year")),r.a.createElement("input",{onChange:e.handleEndYear,type:"text",className:"form-control text-center",id:"end-year"})),r.a.createElement("button",{onClick:e.handleSearch,type:"submit",className:"btn btn-info"},"Search")))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center text-white bg-dark grey"},r.a.createElement("h3",{className:"card-title  mt-2"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})," Search Results"))),r.a.createElement("div",{className:"card-body"},e.renderArticles())))),r.a.createElement("br",null),r.a.createElement("br",null)))},A=function(e){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"text-info"},e.title),r.a.createElement("p",{className:"text-center"},"Date Published: ",g()(e.date).format("M/DD/YYYY")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"btn btn-default mr-1"},"View Article")),r.a.createElement("button",{className:"btn btn-info ml-1",onClick:function(){return e.handleDeleteButton(e._id)}},"Delete"))),r.a.createElement("hr",null))},y=function(e){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center text-white bg-dark grey"},r.a.createElement("h3",{className:"card-title  mt-2"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})," Saved Articles")))))))},x=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={search:"",articles:[],start:"",end:"",savedArticles:[]},a.getSavedArticles=function(){p.getArticles().then(function(e){return a.setState({savedArticles:e.data})}).catch(function(e){return console.log(e)})},a.deleteArticle=function(e){p.deleteArticle(e).then(function(e){return a.getSavedArticles()}).catch(function(e){console.log(e)})},a.getSavedArticles=function(){p.getArticles().then(function(e){return a.setState({savedArticles:e.data})}).catch(function(e){console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.handleSaveButton=function(e){var t=a.state.articles.find(function(t){return t._id===e});console.log("findArticleByID:",t);var n={title:t.headline.main,date:t.pub_date,url:t.web_url};p.saveArticle(n).then(function(e){return a.getSavedArticles()}).catch(function(e){return console.log(e)})},a.handleStartYear=function(e){a.setState({start:e.target.value})},a.handleEndYear=function(e){a.setState({end:e.target.value})},a.handleTopicChange=function(e){a.setState({search:e.target.value})},a.handleDeleteButton=function(e){p.deleteArticle(e).then(a.getSavedArticles())},a.handleSearch=function(e){e.preventDefault(),p.searchArticles(a.state.search,a.state.start,a.state.end).then(function(e){console.log(e.data.response.docs),a.setState({articles:e.data.response.docs})})},a.renderArticles=function(){return a.state.articles.map(function(e){return r.a.createElement(N,{_id:e._id,key:e._id,title:e.headline.main,date:e.pub_date,snippet:e.snippet,url:e.web_url,handleSaveButton:a.handleSaveButton,getSavedArticles:a.getSavedArticles})})},a.renderSaved=function(){return a.state.savedArticles.map(function(e){return r.a.createElement(A,{_id:e._id,key:e._id,title:e.title,date:e.date,url:e.url,handleDeleteButton:a.handleDeleteButton,getSavedArticles:a.getSavedArticles})})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSavedArticles()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-white"},r.a.createElement("br",null),r.a.createElement("h1",{className:"text-info text-center"},"New York Times Article Search"),r.a.createElement("br",null),r.a.createElement(S,{handleTopicChange:this.handleTopicChange,handleStartYear:this.handleStartYear,handleEndYear:this.handleEndYear,handleSearch:this.handleSearch,renderArticles:this.renderArticles,handleSaveButton:this.handleSaveButton,getSavedArticles:this.getSavedArticles}),r.a.createElement(y,null),r.a.createElement("div",null,this.renderSaved()))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Saved Articles Here"))}}]),t}(n.Component),k=a(59),Y=function(){return r.a.createElement("ul",{className:"nav justify-content-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/saved"},"Saved Articles")))},_=(a(55),function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(s.a,{exact:!0,path:"/",component:x}),r.a.createElement(s.a,{exact:!0,path:"/articles",component:w})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.2939446a.chunk.js.map